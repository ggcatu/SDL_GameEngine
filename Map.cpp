#include "Map.hpp"

int level[20][25] = {
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
};

Map::Map(){
	dirt = TextureManager::load_texture("assets/dirty1.png");
	water = TextureManager::load_texture("assets/water1.png");
	grass = TextureManager::load_texture("assets/grass1.png");

	dest.h = 32;
	dest.w = 32;
	load_map(level);
}

void Map::load_map(int level[20][25]){
	for (int i = 0; i < 20; ++i) {
		for (int j = 0; j < 25; ++j) {
			map[i][j] = level[i][j];
		}
	}
}

void Map::draw_map(){
	int type = 0; 
	dest.x = dest.y = 0;

	for (int i = 0; i < 20; ++i) {
		for (int j = 0; j < 25; ++j) {
			type = map[i][j];

			dest.x = j * 32;
			dest.y = i * 32;

			switch(type){
				case 0:
					SDL_RenderCopy(Game::renderer, water, NULL, &dest);
					break;
				case 1:
					SDL_RenderCopy(Game::renderer, grass, NULL, &dest);
					break;
				case 2:
					SDL_RenderCopy(Game::renderer, dirt, NULL, &dest);
					break;
			}
		}
	}
}